---
layout: post
title: "[Oracle] 12. SQL - wmsys.wm_concat"
date: 2022-02-15 15:46:00 +0900
category: oracle
---

# 1. wmsys.wm_concat

### 사용처
문자열을 결합하고 싶을 때 사용한다.

<br>

```sql
create table strAggT(id, val) as
select 111, 'a' from dual
union all
select 111, 'b' from dual
union all
select 111, 'c' from dual
union all
select 222, 'd' from dual
union all
select 222, 'e' from dual
union all
select 222, 'f' from dual;
```

```sql
select id,
       val,
       wmsys.wm_concat(val) over(partition by id) as strAgg1,
       wmsys.wm_concat(val) over(order by val) as strAgg2
from   strAggT;
```

```sql
 id  val  strAgg1  strAgg2
---  ---  -------  -----------
111  a    a,b,c    a
111  b    a,b,c    a,b
111  c    a,b,c    a,b,c
222  d    d,e,f    a,b,c,d
222  e    d,e,f    a,b,c,d,e
222  f    d,e,f    a,b,c,d,e,f
```

<br>

wmsys.wm_concat함수는, Oracle11gR2에서 메뉴얼로 기재되어 있지 않으므로, 주의해서 사용할 필요가 있다.

<br>

wmsys.wm_concat함수는 비슷한 기능을 가지는 ListAgg함수가 있는데, Oracle11gR2에 추가된 함수이다.