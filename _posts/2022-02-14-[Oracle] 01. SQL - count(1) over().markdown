---
layout: post
title: "[Oracle] 01. SQL - count(*) over()"
date: 2022-02-14 13:30:00 +0900
category: oracle
---

# 1. count(*) over()


### 사용처
select문 결과에 행수를 컬럼에 넣고 싶을 때 사용한다.

```sql
create table sampleT01(val) as
select 10 from dual
union all
select 20 from dual
union all
select 30 from dual
union alll
select 30 from dual
union all
select 30 from dual;
```

## 1-1. case1
select한 결과 recordCount 값이 5로 되어 있다.

```sql
select val, count(*) over() as recordCount fromo sampleT01;

val   recordCount
---   -----------
 10             5
 20             5
 30             5
 30             5
 30             5
```

## 1-1. case2
val에 중복을 제거 결과 행수를 컬럼에 넣고 싶을 때 사용한다.

```sql
select val, count(*) over() as recordCount
from   (select distinct val from sampleT01)
order  by val;
```

```sql
val recordCount
--- -----------
 10           3
 20           3
 30           3
```
