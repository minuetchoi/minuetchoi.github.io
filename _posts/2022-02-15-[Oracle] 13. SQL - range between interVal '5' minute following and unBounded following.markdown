---
layout: post
title: "[Oracle] 13. SQL - range between interVal '5' minute following and unBounded following"
date: 2022-02-15 15:47:00 +0900
category: oracle
---

# 1. range between interVal '5' minute following and unBounded following

### 사용처
sortkey가 date형으로 최소상위를 구하고 싶을 때 사용한다.

<br>

date형을 sortkey로 지정하고 range를 지정한다.

<br>

```sql
create table dateRange(dayCol) as
select to_date('2009-11-01 10:10','YYYY-MM-DD HH24:MI') from dual
union all
select to_date('2009-11-01 10:14','YYYY-MM-DD HH24:MI') from dual
union all
select to_date('2009-11-01 10:17','YYYY-MM-DD HH24:MI') from dual
union all
select to_date('2009-11-01 10:19','YYYY-MM-DD HH24:MI') from dual
union all
select to_date('2009-11-01 10:20','YYYY-MM-DD HH24:MI') from dual
union all
select to_date('2009-11-01 10:26','YYYY-MM-DD HH24:MI') from dual
union all
select to_date('2009-11-01 10:30','YYYY-MM-DD HH24:MI') from dual;
```

<br>

행마다, 5분 이후로 최소 dayCol을 구한다.


```sql
select dayCol,
       min(dayCol) over range between interval '5' minute following and unBounded following) as after5minute
from   dateRange;
```

```sql
dayCol            after5minute
----------------  ----------------
2009-11-01 10:10  2009-11-01 10:17
2009-11-01 10:14  2009-11-01 10:19
2009-11-01 10:17  2009-11-01 10:26
2009-11-01 10:19  2009-11-01 10:26
2009-11-01 10:20  2009-11-01 10:26
2009-11-01 10:26  null
2009-11-01 10:30  null
```